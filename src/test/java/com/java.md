# 一、并发编程：
## 1.什么是多线程并发和并行？
	并发指的多个线程竞争同一个cpu,先后运行；并行指多核环境下多个线程同时运行
## 2.什么是线程安全问题？
	多个线程同时读写一个共享共享资源，并且没有任何同步措施，导致脏读数据或者其他不可预见的问题
## 3.什么是共享变量的内存可见性问题？
	一个共享变量的修改，能够被其他线程看到
	https://www.jianshu.com/p/ba6992f23f77
## 4.什么是Java中原子性操作？
	执行一系列操作时，这些操作要么全部执行，要么全部不执行，不存在只执行一部分的情况。
## 5.什么是Java中的CAS操作,AtomicLong实现原理？
	CAS即compare and swap,非阻塞行原子操作，AtomicLong利用cas原子性完成的 
## 6.什么是Java指令重排序？
	java内存模型允许编辑器和处理器对指令进行重排序以提高性能，并且只会对不存在数据依赖性的指令重排序。
## 7.Java中Synchronized关键字的内存语义是什么
	1)进入synchronized块的内存语义是把在synchronized块内使用到的共享变量从线程的工作内存中清除，
	    这样在synchronized块内使用到该变量时就不会从线程的工作内存中获取，而是直接从主内存中获取；
	2)退出synchronized块的内存语义是把在synchronized块内对共享变量的修改刷新到主内存。
## 8.Java中Volatile关键字的内存语义是什么？
	当线程写入了volatile变量时把工作内存的变量值同步到主内存，读取volatile变量内存语义是先清除本地内存变量值，再从主内存获取最新值。
## 9.什么是伪共享,为何会出现，以及如何避免？
	cpu内存缓存行的中存在两个变量，两个线程同时对其进行操作时，导致其中一个cpu的失效，重新获取，导致性能降低（Java8之前缓存行填充，Java8之后@sun.misc.Contended直接即可）
## 10.什么是可重入锁、乐观锁、悲观锁、公平锁、非公平锁、独占锁、共享锁？
	悲观锁：synchronized,ReentrantLock
	乐观锁：cas 
	公平锁：先到先运行 ReentrantLock(true)
	非公平锁：抢占，先到不一定先运行 ReentrantLock(false)
	独占锁：只能被一个线程持有 悲观锁
	共享锁：可以被多个线程持有 乐观锁
	可重入锁：线程获取自己已经获取的索引可以再次获取
## 11.讲讲ThreadLocal 的实现原理？
	每个线程内部都有一个名为threadLocals的成员变量，该变量是一个定制化的hashmap,其中key为我们定义的ThreadLocal变量的this引用，value则是我们使用set方法设置的值。
##	 12.说说InheritableThreadLocal 的实现原理？
	inheritableThreadLocals代替了threadLocals，并在Thread初始化的时候把父线程中的inheritableThreadLocals存一份到子线程的inheritableThreadLocals
## 13.随机数生成器 Random 类如何使用 CAS 算法保证多线程下新种子的唯一性？
	用AtomicLong维护一个种子，并是用cas进行更新，然后在根据老种子新的中子，然后根据新的种子来计算新的随机数
## 14.ThreadLocalRandom 是如何利用 ThreadLocal 的原理来解决 Random 的局限性？
	
## 15.Spring 框架中如何使用 ThreadLocal 实现 request scope 作用域 Bean？

## 16.并发包中锁的实现底层（对AQS的理解）？

## 17.讲讲独占锁 ReentrantLock 原理？

## 18.谈谈读写锁 ReentrantReadWriteLock 原理？
	读锁
	写锁
## 19.StampedLock 锁原理的理解？
	每次获取锁的时候都是
## 20.谈下对基于链表的非阻塞无界队列 ConcurrentLinkedQueue 原理的理解？

## 21.ConcurrentLinkedQueue 内部是如何使用 CAS 非阻塞算法来保证多线程下入队出队操作的线程安全？

## 22.基于链表的阻塞队列 LinkedBlockingQueue 原理。

## 23.阻塞队列LinkedBlockingQueue 内部是如何使用两个独占锁 ReentrantLock 以及对应的条件变量保证多线程先入队出队操作的线程安全？

## 24.分析下JUC 中倒数计数器 CountDownLatch 的使用与原理？
    
## 25.CountDownLatch 与线程的 Join 方法区别是什么？
	1. 调用子线程的join()方法后，该线程会被阻塞知道子线程运行完毕，而countDownLatch则使用计数器来允许子线程运行结束或者运行中减数递减，
	   可以在子线程运行的时候让await()方法返回而不一定必须等到线程结束；
	2. 使用线程池来管理线程时一般都是直接添加Runnable到线程池，这个时候join就无法使用了，CountDownLatch 线程同步控制更灵活。
## 26.讲讲对JUC 中回环屏障 CyclicBarrier 的使用？
    让一组线程同时达到一个状态后同时执行，并且重置，且可重用。
## 27.CyclicBarrier内部的实现与 CountDownLatch 有何不同？
    CyclicBarrier 使用的是reentranLock 的独占锁来实现的，parties为记录线程个数，每当有await调用就减一，当计数为0
    CountDownLatch 使用的是 AQS 的共享方式实现的，每次掉用 await 如果 state > 0 则阻塞，当state = 0 是，唤醒全部阻塞线程
## 28.Semaphore 的内部实现是怎样的？
    
## 29.并发组件CopyOnWriteArrayList 是如何通过写时拷贝实现并发安全的 List？
    
# 二、JVM
## 1.Java 内存分配？
	堆、Java虚拟机栈、本地方法栈、程序计数器、方法区、直接内存、运行时常量
## 2.Java 堆的结构是什么样子的？
	年轻代（S0,S0,E）、老年代 
## 3.什么是堆中的永久代（Perm Gen space）?

## 4.说说各个区域的作用？
## 5.Java 中会存在内存泄漏吗，简述一下？
## 6.Java 类加载过程？
## 7.描述一下 JVM 加载 Class 文件的原理机制?
## 8.什么是类加载器？
## 9.类加载器有哪些？
## 10.什么是tomcat类加载机制？
## 11.类加载器双亲委派模型机制？
## 12.什么是GC? 为什么要有 GC？
## 13.简述一下Java 垃圾回收机制？
## 14.如何判断一个对象是否存活？
## 15.垃圾回收的优点和原理，并考虑 2 种回收机制？
## 16.垃圾回收器的基本原理是什么？
## 17.垃圾回收器可以马上回收内存吗？有什么办法主动通知虚拟机进行垃圾回收？
## 18.深拷贝和浅拷贝？
    https://www.cnblogs.com/shakinghead/p/7651502.html
## 19.System.gc() 和 Runtime.gc() 会做些什么？
## 20.什么是分布式垃圾回收（DGC）？它是如何工作的？
	RMI 子系统实现基于引用计数的“分布式垃圾回收”(DGC)，以便为远程服务器对象提供自动内存管理设施。
	当客户机创建（序列化）远程引用时，会在服务器端 DGC 上调用 dirty()。
	当客户机完成远程引用后，它会调用对应的 clean() 方法。
	针对远程对象的引用由持有该引用的客户机租用一段时间。租期从收到 dirty() 调用开始。
	在此类租约到期之前，客户机必须通过对远程引用额外调用 dirty() 来更新租约。
	如果客户机不在租约到期前进行续签，那么分布式垃圾收集器会假设客户机不再引用远程对象。
## 21.串行（serial）收集器和吞吐量（throughput）收集器的区别是什么？
## 22.在 Java 中，对象什么时候可以被垃圾回收？
## 23.简述Minor GC 和 Major GC？
## 24.Java 中垃圾收集的方法有哪些？
## 25.讲讲你理解的性能评价及测试指标？
## 26.常用的性能优化方式有哪些？
## 27.说说分布式缓存和一致性哈希？
## 28.同步与异步？阻塞与非阻塞？
## 29.什么是GC调优？
## 30.常见异步的手段有哪些？

# 三、Spring
## 1.为什么需要代理模式？
## 2.讲讲静态代理模式的优点及其瓶颈？
## 3.对Java 接口代理模式的实现原理的理解？
## 4.如何使用 Java 反射实现动态代理？
## 5.Java 接口代理模式的指定增强？
## 6.谈谈对Cglib 类增强动态代理的实现？
## 7.怎么理解面向切面编程的切面？
## 8.讲解OOP与AOP的简单对比？
## 9.讲解JDK 动态代理和 CGLIB 代理原理以及区别？
## 10.讲解Spring 框架中基于 Schema 的 AOP 实现原理？
## 11.讲解Spring 框架中如何基于 AOP 实现的事务管理？
## 12.谈谈对控制反转的设计思想的理解？
## 13.怎么理解 Spring IOC 容器？
## 14.Spring IOC 怎么管理 Bean 之间的依赖关系，怎么避免循环依赖？
## 15.对Spring IOC 容器的依赖注入的理解？
## 16.说说对Spring IOC 的单例模式和高级特性？
## 17.BeanFactory 和 FactoryBean 有什么区别？
## 18.BeanFactory 和 ApplicationContext 又有什么不同？
## 19.Spring 在 Bean 创建过程中是如何解决循环依赖的？
## 20.谈谈Spring Bean 创建过程中的设计模式？

# 四、数据库
## 1.MySQL 有哪些存储引擎啊？都有什么区别？
## 2.Float、Decimal 存储金额的区别？
## 3.Datetime、Timestamp 存储时间的区别？
## 4.Char、Varchar、Varbinary 存储字符的区别？
## 5.对比一下B+树索引和 Hash索引？
## 6.MySQL索引类型有？
## 7.如何管理 MySQL索引？
## 8.对Explain参数及重要参数的理解？
## 9.索引利弊是什么及索引分类？
## 10.聚簇索引和非聚簇索引的区别？
## 11.B+tree 如何进行优化？索引遵循哪些原则？
## 12.索引与锁有什么关系？
## 13.还有什么其他的索引类型，各自索引有哪些优缺点？
## 14.谈谈对Innodb事务的理解？
## 15.说说数据库事务特点及潜在问题？
## 16.什么是MySQL隔离级别？
## 17.有多少种事务失效的场景，如何解决？
## 18.一致性非锁定读和一致性锁定读是什么？
## 19.Innodb如何解决幻读？
## 20.讲讲Innodb行锁？
## 21.死锁及监控是什么？
## 22.自增长与锁 ，锁的算法，锁问题，锁升级是什么？
## 23.乐观锁的线程如何做失败补偿？
## 24.高并发场景（领红包）如何防止死锁，保证数据一致性？
## 25.谈谈MySQL的锁并发？
## 26.查询优化的基本思路是什么？
## 27.说说MySQL读写分离、分库分表？
## 28.表结构对性能有什么影响?
## 29.浅谈索引优化？
## 30.说说Sql优化的几点原则？
## 31.MySQL表设计及规范？
## 32.说说MySQL几种存储引擎应用场景？
## 33.MySQL常用优化方式有哪些？
## 24.MySQL常用监控？
## 25.MySQL瓶颈分析？

# 五、缓存
## 1.redis数据结构有哪些？
## 2.Redis缓存穿透，缓存雪崩？
## 3.如何使用Redis来实现分布式锁？
## 4.Redis的并发竞争问题如何解决？
## 5.Redis持久化的几种方式，优缺点是什么，怎么实现的？
## 6.Redis的缓存失效策略？
## 7.Redis集群，高可用，原理？
## 8.Redis缓存分片？
## 9.Redis的数据淘汰策略？
## 10.redis队列应用场景？
## 11.分布式使用场景（储存session）？

# 六、网络编程
## 1.TCP建立连接和断开连接的过程？
## 2.HTTP协议的交互流程，HTTP和HTTPS的差异，SSL的交互流程？
## 3.TCP的滑动窗口协议有什么用？
## 4.HTTP协议都有哪些方法？
## 5.Socket交互的基本流程？
## 6.讲讲tcp协议（建连过程，慢启动，滑动窗口，七层模型）？
## 7.webservice协议（wsdl/soap格式，与restt办议的区别）？
## 8.说说Netty线程模型，什么是零拷贝？
## 9.TCP三次握手、四次挥手？
## 10.DNS解析过程？
## 11.TCP如何保证数据的可靠传输的？

# 七、分布式
## 1.什么是CAP定理？
	Consistency（一致性）、 Availability（可用性）、Partition tolerance（分区容错性）
## 2.说说CAP理论和BASE理论？
## 3.什么是最终一致性？最终一致性实现方式？
## 4.什么是一致性Hash？
## 5.讲讲分布式事务？
## 6.如何实现分布式锁？
## 7.如何实现分布式 Session?
## 8.如何保证消息的一致性?
## 9.负载均衡的理解？
## 10.正向代理和反向代理？
## 11.CDN实现原理？
## 12.怎么提升系统的QPS和吞吐？
## 13.Dubbo的底层实现原理和机制？
## 14.描述一个服务从发布到被消费的详细过程？
## 15.分布式系统怎么做服务治理？
## 16.消息中间件如何解决消息丢失问题？
## 17.Dubbo的服务请求失败怎么处理？
## 18.对分布式事务的理解？
## 19.如何实现负载均衡,有哪些算法可以实现?
## 20.Zookeeper的用途,选举的原理是什么?
## 21.讲讲数据的垂直拆分水平拆分？
## 22.zookeeper原理和适用场景？
## 23.zookeeper watch机制？
## 24.redis/zk节点宕机如何处理？
## 25.分布式集群下如何做到唯一序列号？
## 26.用过哪些MQ,怎么用的,和其他mq比较有什么优缺点,MQ的连接是线程安全的吗？
## 27.MQ系统的数据如何保证不丢失？
## 28.列举出能想到的数据库分库分表策略？


4.hbase的rowkey 设计？ 

5.MongoDB与es的做聚合运算的区别？

6.es的倒排索引与正排索引的区别？
7.怎么编写一个sparkStreaming程序？
9.怎么在redis中查下午2点~4点的数据 
10.如何用shell命令替换1234 为abc ? 
11.jps 下面有很多进程，如何用一条命令全部杀死？
12.scala 如何实现 a.方法？ 比如实现截取的方法，用.来调用。
13.spark 中如果接入一个redis连接对象，放什么位置？如果是在partion中，多次的创建浪费资源，如何避免？

2、你们项目中微服务是怎么划分的，划分粒度怎么确定？

3、那在实践微服务架构中，有遇到什么问题么？

4、你们在关于微服务间数据一致性问题，是如何解决的？

5、你们为什么不用其他的MQ,最终选择了RocketMQ？

6、为什么RocketMQ没有选择ZooKeeper，而是自己实现了一个NameServer集群？

7、嗯，理解的不错，Zookeeper在选举的过程中，还能对外提供服务么？

8、对Paxos算法了解多少？

9、如果让你来设计一个春晚抢红包架构，你会怎么设计？

1、扯了下项目、讲一下项目经历

2、你们用了redis，redis的底层数据结构了解多少？
http://www.cnblogs.com/jaycekon/p/6227442.html
http://www.cnblogs.com/jaycekon/p/6277653.html
3、知道动态字符串sds的优缺点么？
注:sds为redis底层数据结构之一  http://www.cnblogs.com/jaycekon/p/6227442.html
4、redis的单线程特性有什么优缺点？
https://www.cnblogs.com/shamo89/p/8352084.html
https://blog.csdn.net/weixin_42295141/article/details/81380633
5、用过 Redis 的哪些数据结构, 分别用在什么场景?
	String  缓存 常规计数：微博数，粉丝数等 共享session
	hash 用户信息，商品信息
	list 微博的关注列表，粉丝列表，最新消息排行等功能
	set 共同好友，二度好友，tag交集,去重
	sortSet 排行榜
	https://blog.csdn.net/QIAOBAO2018/article/details/80925083
6、你们怎么解决缓存击穿问题的？
缓存穿透是指查询一个一定不存在的数据，由于缓存是不命中时需要从数据库查询，查不到数据则不写入缓存，这将导致这个不存在的数据每次请求都要到数据库去查询，造成缓存穿透。
如何避免？
对所有可能查询的参数以hash形式存储，在控制层先进行校验，不符合则丢弃。还有最常见的则是采用布隆过滤器，将所有可能存在的数据哈希到一个足够大的bitmap中，一个一定不存在的数据会被这个bitmap拦截掉，从而避免了对底层存储系统的查询压力。
也可以采用一个更为简单粗暴的方法，如果一个查询返回的数据为空（不管是数 据不存在，还是系统故障），我们仍然把这个空结果进行缓存，但它的过期时间会很短，最长不超过五分钟。

缓存雪崩是指如果缓存集中在一段时间内失效，发生大量的缓存穿透，所有的查询都落在数据库上，造成了缓存雪崩。
如何避免？
在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量。比如对某个key只允许一个线程查询数据和写缓存，其他线程等待。
可以通过缓存reload机制，预先去更新缓存，再即将发生大并发访问前手动触发加载缓存
做二级缓存，或者双缓存策略。A1为原始缓存，A2为拷贝缓存，A1失效时，可以访问A2，A1缓存失效时间设置为短期，A2设置为长期。
这个没有完美解决办法，但可以分析用户行为，尽量让失效时间点均匀分布。
大多数系统设计者考虑用加锁或者队列的方式保证缓存的单线程（进程）写，从而避免失效时大量的并发请求落到底层存储系统上。

7、Hystrix的隔离机制有哪些？Hystrix常见配置是哪些？
https://www.cnblogs.com/lexiaofei/p/7761982.html
8、自己做过哪些调优？JVM调优、数据库调优都行！


2、平时会用到哪些数据结构？

3、链表和数组的优缺点？

4、解决hash冲突的方法有哪些？
开放地址法、
5、讲讲自己对HashMap的理解，以及和Weakhashmap的区别？

6、你刚才讲的是JDK1.7版本的实现，知道JDK1.8做了哪些改动么？

7、你们在微服务中用RPC通信还是REST？

8、RPC和HTTP的关系是什么？

9、知道HTTP1.0和1.1的区别么？

10、谈谈什么是HTTP的长连接和短连接？

11、TCP的三次握手和四次挥手，以及为什么要三次握手，而不是二次？

12、TCP 有哪些状态，相应状态的含义

13、让你评价一下你自己？

2、你们数据库的高可用架构是怎么样的？

3、如何保证数据库主从一致性？

4、知道mysql的索引算法么？

5、为什么mongodb的索引用了B树，而mysql用B+树？

6、用mysql过程中，有遇到什么问题么？

7、你们生产用的是哪种事务隔离级别，为什么？

8、谈一谈你对微服务架构的理解

9、你用过哪些RPC框架，讲讲他们优缺点

10、用过docker么，对容器了解多少




